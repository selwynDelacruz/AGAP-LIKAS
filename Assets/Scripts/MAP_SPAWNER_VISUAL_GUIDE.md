# MapSpawner Network - Quick Visual Guide

```
?????????????????????????????????????????????????????????????????????
?              NETWORKED MAP SPAWNER - VISUAL GUIDE                 ?
?????????????????????????????????????????????????????????????????????

???????????????????????????????????????????????????????????????????
?                    STEP 1: PREPARE PREFABS                      ?
???????????????????????????????????????????????????????????????????

Project Window
??? Prefabs/
?   ??? Map1  ? Select this
?   ??? Map2  ? And this
?   ??? Map3  ? And this
?   ??? Map4  ? And this
?   ??? Map5  ? And this
?   ??? Map6  ? And this
?   ??? SafeZone  ? And this

For EACH prefab above:
    Inspector Window
    ??? Transform
    ??? [Other Components]
    ??? [Add Component] ? Click here
    ?   ??? Search: "Network Object"
    ??? NetworkObject ?
        ??? ? Destroy With Scene  ? CHECK THIS!
        ??? ? Is Player Object
        ??? Sync Position Threshold: 0.001

???????????????????????????????????????????????????????????????????
?              STEP 2: REGISTER IN NETWORK MANAGER                ?
???????????????????????????????????????????????????????????????????

Hierarchy (In your game scene)
??? NetworkManager ? Select this

Inspector Window
??? NetworkManager (Script)
    ??? Transport: UnityTransport
    ??? Player Prefab: [Your player]
    ??? Network Prefabs ? SCROLL HERE
        ??? Network Prefabs List
        ?   ??? [+] ? Click 7 times to add slots
        ?   ??? [0] ? Drag Map1 prefab here
        ?   ??? [1] ? Drag Map2 prefab here
        ?   ??? [2] ? Drag Map3 prefab here
        ?   ??? [3] ? Drag Map4 prefab here
        ?   ??? [4] ? Drag Map5 prefab here
        ?   ??? [5] ? Drag Map6 prefab here
        ?   ??? [6] ? Drag SafeZone prefab here

???????????????????????????????????????????????????????????????????
?            STEP 3: SETUP MAPSPAWNER GAMEOBJECT                  ?
???????????????????????????????????????????????????????????????????

Hierarchy
??? MapSpawner ? Select this (or create if missing)

Inspector Window
??? Transform
??? MapSpawner (Script)
?   ??? Map Prefabs (Array)
?   ?   ??? Size: 6
?   ?   ??? Element 0: [Drag Map1 prefab]
?   ?   ??? Element 1: [Drag Map2 prefab]
?   ?   ??? Element 2: [Drag Map3 prefab]
?   ?   ??? Element 3: [Drag Map4 prefab]
?   ?   ??? Element 4: [Drag Map5 prefab]
?   ?   ??? Element 5: [Drag Map6 prefab]
?   ??? Map Size: 121
?   ??? Safe Zone Prefab: [Drag SafeZone prefab]
?   ??? Debug Mode: ? ? Check for testing
??? [Add Component] ? Click here
?   ??? Search: "Network Object"
??? NetworkObject ?
    ??? ? Destroy With Scene  ? LEAVE UNCHECKED
    ??? ? Is Player Object

???????????????????????????????????????????????????????????????????
?                 STEP 4: HOW IT WORKS AT RUNTIME                 ?
???????????????????????????????????????????????????????????????????

??????????????????????????????????????????????????????????????????
?                         HOST FLOW                               ?
??????????????????????????????????????????????????????????????????

User clicks "Host" Button
    ?
NetworkManager.StartHost()
    ?
Scene Loads
    ?
MapSpawner.OnNetworkSpawn() called
    ?
???????????????????????????????????????
? if (!IsServer) return;              ?  ? Check: IsServer = TRUE ?
?     ? CONTINUES                     ?
? ShuffleArray(mapPrefabs)            ?  ? Randomize maps
?     ?                               ?
? Select 4 random maps                ?  ? Pick first 4 after shuffle
?     ?                               ?
? For each map:                       ?
?   - Instantiate()                   ?  ? Create local instance
?   - networkObject.Spawn(true)       ?  ? Network spawn ?
?     ?                               ?
? Netcode sends to ALL clients        ?  ? Automatic sync ??
???????????????????????????????????????
    ?
Host sees maps ?
Clients receive maps ?

??????????????????????????????????????????????????????????????????
?                        CLIENT FLOW                              ?
??????????????????????????????????????????????????????????????????

User clicks "Join" Button
    ?
NetworkManager.StartClient()
    ?
Connects to Host
    ?
Scene Loads
    ?
MapSpawner.OnNetworkSpawn() called
    ?
???????????????????????????????????????
? if (!IsServer) return;              ?  ? Check: IsServer = FALSE ?
?     ? RETURNS IMMEDIATELY           ?
? Does NOT spawn maps                 ?  ? Waits for server
???????????????????????????????????????
    ?
Netcode receives spawned objects from Host
    ?
Client sees SAME maps as Host ?

???????????????????????????????????????????????????????????????????
?                      MAP LAYOUT EXAMPLE                         ?
???????????????????????????????????????????????????????????????????

Host's Random Shuffle Result:
[Map3, Map1, Map5, Map2, Map4, Map6]
       ? Pick first 4
[Map3, Map1, Map5, Map2]

Spawned Layout (2x2 Grid):
?????????????????????????????????????
?                 ?                 ?
?     Map1        ?     Map2        ?
?  (0, 0, 121)    ?  (121, 0, 121)  ?
?                 ?  [SafeZone] ??  ?
?????????????????????????????????????
?????????????????????????????????????
?                 ?                 ?
?     Map3        ?     Map5        ?
?  (0, 0, 0)      ?  (121, 0, 0)    ?
?                 ?                 ?
?????????????????????????????????????

ALL PLAYERS see this SAME layout! ?

???????????????????????????????????????????????????????????????????
?                   VERIFICATION CHECKLIST                        ?
???????????????????????????????????????????????????????????????????

PREFABS:
  [ ] Map1 has NetworkObject component
  [ ] Map2 has NetworkObject component
  [ ] Map3 has NetworkObject component
  [ ] Map4 has NetworkObject component
  [ ] Map5 has NetworkObject component
  [ ] Map6 has NetworkObject component
  [ ] SafeZone has NetworkObject component
  [ ] "Destroy With Scene" checked on all above

NETWORK MANAGER:
  [ ] NetworkManager exists in scene
  [ ] Network Prefabs List has 7 items
  [ ] All 6 map prefabs registered
  [ ] SafeZone prefab registered

MAPSPAWNER:
  [ ] MapSpawner GameObject exists
  [ ] MapSpawner has NetworkObject component
  [ ] MapSpawner script is NetworkBehaviour
  [ ] Map Prefabs array assigned (size 6)
  [ ] Safe Zone Prefab assigned
  [ ] Debug Mode enabled for testing

???????????????????????????????????????????????????????????????????
?                      TESTING PROCEDURE                          ?
???????????????????????????????????????????????????????????????????

SINGLE PLAYER TEST:
1. Click "Host" button
2. Wait for scene to load
3. Check Console for:
   ? "[MapSpawner] Server - starting map spawn process"
   ? "[MapSpawner] Spawned networked map: ..." (x4)
   ? "[MapSpawner] Spawned networked safe zone..."
4. Verify 4 different maps visible in 2x2 grid
5. Verify safe zone exists

MULTIPLAYER TEST:
Host:
1. Click "Host" button
2. Note which maps spawned (check Console)
3. Note safe zone position

Client:
1. Click "Join" button
2. Wait for connection
3. Check if SAME maps visible as host
4. Check if safe zone in SAME position
5. Console should show:
   ? "[MapSpawner] Client - waiting for server to spawn maps"

???????????????????????????????????????????????????????????????????
?                   TROUBLESHOOTING FLOWCHART                     ?
???????????????????????????????????????????????????????????????????

Maps don't spawn?
    ?
    Is player HOST?
        ? No ? Can't spawn (clients don't spawn)
        ? Yes
        ?
    Check Console for errors
        ?
    "GameObject X has not been registered"?
        ? Yes ? Add to NetworkManager prefab list
        ? No
        ?
    Maps spawn on host but NOT on client?
        ?
    Check all prefabs have NetworkObject
        ?
    Are all prefabs registered in NetworkManager?
        ?
    Is MapSpawner GameObject networked?

Different maps on host vs client?
    ?
    Check if client is spawning maps (should NOT)
        ?
    Verify: "if (!IsServer) return;" exists
        ?
    Only HOST should see spawn logs

Safe zone missing?
    ?
    Is SafeZone prefab assigned?
        ?
    Does SafeZone have NetworkObject?
        ?
    Is SafeZone registered in NetworkManager?
        ?
    Does map chunk have "ExitPoint" child?
        ?
    Check Console for ExitPoint warning

???????????????????????????????????????????????????????????????????
?                      CONSOLE LOG GUIDE                          ?
???????????????????????????????????????????????????????????????????

? GOOD LOGS (Host):
[MapSpawner] Server - starting map spawn process
[MapSpawner] Spawned networked map: Map3 at position (0, 0, 0)
[MapSpawner] Spawned networked map: Map1 at position (0, 0, 121)
[MapSpawner] Spawned networked map: Map5 at position (121, 0, 0)
[MapSpawner] Spawned networked map: Map2 at position (121, 0, 121)
[MapSpawner] Spawned networked safe zone at (121, 0, 121)
[MapSpawner] Map spawning complete!

? GOOD LOGS (Client):
[MapSpawner] Client - waiting for server to spawn maps

? BAD LOGS:
"GameObject Map1 has not been registered as a spawnable"
? FIX: Add Map1 to NetworkManager prefab list

"NullReferenceException: Object reference not set..."
? FIX: Check if prefabs are assigned in Inspector

"Both host and client spawning maps"
? FIX: Verify IsServer check exists

???????????????????????????????????????????????????????????????????
?                           SUCCESS!                              ?
???????????????????????????????????????????????????????????????????

When everything works correctly:

HOST SEES:
• 4 randomly selected maps in 2x2 grid
• Safe zone in one of the map chunks
• Console shows "Server - spawning maps"

CLIENT SEES:
• SAME 4 maps as host
• Safe zone in SAME location
• Console shows "Client - waiting for server"

BOTH PLAYERS:
• Can move around the same environment
• See each other's characters
• Experience synchronized gameplay

?? Your multiplayer map system is working! ??

```

## Summary

? **MapSpawner is now networked**
? **Only host spawns maps**
? **All clients see the same layout**
? **Safe zone syncs to all players**
? **Ready for multiplayer rescue simulation**

Follow the checklist above and you're ready to test!
